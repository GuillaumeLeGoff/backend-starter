// schema.prisma

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}



model User {
  id           Int           @id @default(autoincrement())
  username     String        @unique
  password     String
  role           String          @default("USER") //Role: USER, ADMIN
  userSettings UserSettings?
  media        Media[]
  playlists    Playlist[]
}

model UserSettings {
  user_id Int    @id
  language String
  user     User   @relation(fields: [user_id], references: [id])
}

model Media {
 id                 Int             @id @default(autoincrement())
  original_file_name String
  file_name          String
  path               String
  format             String
  type               String
  size               Int
  uploaded_at        DateTime        @updatedAt()
  user_id            Int
  user               User            @relation(fields: [user_id], references: [id])
  Playlist_media     PlaylistMedia[]
}

model Playlist {
  id        Int             @id @default(autoincrement())
  name      String
  user_id   Int
  user      User            @relation(fields: [user_id], references: [id])
  media     PlaylistMedia[]
}

model PlaylistMedia {
  id                   Int      @id @default(autoincrement())
  media_id             Int
  playlist_id          Int
  media_dur_in_playlist Int
  media_pos_in_playlist Int
  media                Media    @relation(fields: [media_id], references: [id])
  playlist             Playlist @relation(fields: [playlist_id], references: [id])
}

model GlobalSettings {
  id                  Int      @id @default(autoincrement())
  standby             Boolean
  standby_start_time  Int
  standby_end_time    Int
  restart_at          Int
}

model Accident {
  id                                  Int      @id @default(autoincrement())
  days_without_accident               String
  record_days_without_accident        String
  number_of_accidents_since_start_of_the_year String
  reset_on_new_year                   String
  scrolling_text                      String
}

